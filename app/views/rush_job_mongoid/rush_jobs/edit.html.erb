<h3 class="text-body"><%= t :edit_job %> <%= @job.id %></h3>

<%= link_to 'Back', :back, class: 'btn btn-primary btn-sm mb-3' %>

<%= form_with model: @job do |form| %>
  <div class="mb-3 w-25">
    <%= form.label :priority, t(:priority), class: 'form-label' %>
    <%= form.number_field :priority, class: 'form-control' %>
  </div>
  <div class="mb-3 w-25">
    <%= form.label :attempts, t(:attempts), class: 'form-label' %>
    <%= form.number_field :attempts, class: 'form-control' %>
  </div>
  <div class="mb-3 w-75">
    <%= form.label :handler, t(:handler), class: 'form-label' %>
    <%= form.text_area :handler, rows: 15, class: 'form-control' %>
  </div>
  <div class="mb-3 w-25">
    <%= form.label :run_at, t(:run_at), class: 'form-label' %>
    <%= form.datetime_local_field :run_at, class: 'form-control', step: 1 %>
  </div>
  <div class="mb-3 w-25">
    <%= form.label :locked_at, t(:locked_at), class: 'form-label' %>
    <%= form.datetime_local_field :locked_at, class: 'form-control', step: 1 %>
  </div>
  <div class="mb-3 w-25">
    <%= form.label :locked_by, t(:locked_by), class: 'form-label' %>
    <%= form.text_field :locked_by, class: 'form-control' %>
  </div>
  <div class="mb-3 w-25">
    <%= form.label :failed_at, t(:failed_at), class: 'form-label' %>
    <%= form.datetime_local_field :failed_at, class: 'form-control', step: 1 %>
  </div>
  <div class="mb-3 w-25">
    <%= form.label :last_error, t(:last_error), class: 'form-label' %>
    <%= form.text_field :last_error, class: 'form-control' %>
  </div>
  <div class="mb-3 w-25">
    <%= form.label :queue, t(:queue), class: 'form-label' %>
    <%= form.text_field :queue, class: 'form-control' %>
  </div>
  <%= form.submit t(:update), class: 'btn btn-primary', data: { turbo: false } %>
<% end %>

<div class="mt-3">
<%= button_to t(:delete),
    rush_job_url(@job),
    class: "btn btn-danger",
    method: :delete,
    data: {
      turbo: false,
      controller: 'rush-job-mongoid-confirm',
      action: 'click->rush-job-mongoid-confirm#displayConfirm',
      confirm_message: t(:delete_job_confirmation, job_id: @job.id)
    } %>
</div>
